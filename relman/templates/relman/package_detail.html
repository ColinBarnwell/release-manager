{% extends 'base.html' %}
{% load i18n %}

{% block content %}
    {% with current_version=package.current_version next_version=package.next_version %}
        <div class="panel panel-default">
            <div class="panel-heading">
                <div class="row">
                    <div class="col-xs-3">
                        <h5>{{ package.name }}</h5>
                    </div>
                    <div class="col-xs-3">
                         {{ current_version.version_number }}
                    </div>
                    <div class="col-xs-6">
                        {% if next_version %}
                            <b>{% trans "Next version" %}:</b>
                            {{ next_version.version_number }}
                            ({{ next_version.target_date }})
                        {% endif %}
                    </div>
                </div>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-xs-6">
                        <table class="table table-striped">
                            <th>{% trans "Version" %}</th>
                            <th>{% trans "Date" %}</th>
                            <th>{% trans "Status" %}</th>
                            {% for version in package.versions.all %}
                                <tr>
                                    <td>
                                        {% if version == current_version %}
                                            <b>{{ version.version_number }}</b>
                                        {% else %}
                                            {{ version.version_number }}
                                        {% endif %}
                                    </td>
                                    <td>{{ version.target_date }}</td>
                                    <td>{{ version.get_status_display }}</td>
                                </tr>
                            {% endfor %}
                        </table>
                    </div>
                </div>
            </div>
        </div>
    {% endwith %}
{% endblock content %}